# Various call samples. This file is YAML for syntax checking on embedded JSON, but does not intend to be
# compliant with any particular schema (such as OpenAPI)
-
  description: Unified access profile structure
  request:
    method: GET
    url: agents/{agent_id}/access-profiles/{id}
  response:
    body: {
      id: 5215,
      # List of devices (ids) that are associated with this access profile
      # These device ids need to be associated with {agentId}
      deviceIds: [
        345345,
        724652
      ],
      policies: [
        {
          name: "User defined name, shows up in UX",
          # List of categories that this policy applies to
          categories: [
            "category:adult",
            "category:violence",
            "domain:cdn.facebook.com"
          ],
          action: "block", # block | allow. 

          # Schedule (optional)
          # Do not specify together with .limit
          # Schedule determines when to apply this policy
          schedule: {
            "weekDays": ["MONDAY", "TUESDAY"],
            "timeStart": "16:00",
            "durationMinutes": 60
          },
          
          # Limit- optional
          # Do not specify together with .schedule
          # Trigger the policy actions when the (tracking) limit have been reached
          # Reset the limit/trigger at a well-known implicit internal (e.g. midnight)
          limit: {
            dailyUsage: {
              durationMinutes: 60,
              # tracking_interval: "day" # This is the default/implicit tracking context
            }
          }
        }
      ]
    }
-
  description: User-triggered internet pausing for device(s)
  request:
    method: GET
    url: agents/{agent_id}/access-profiles/{id}
  response:
    body: {
      id: 2542,
      deviceIds: [
        345345,
        724652
      ],
      policies: [
        {
          name: "Internet pause, unconditinal",
          categories: [
            # Apply to ALL categories of traffic
            "category:*",
          ],
          action: "block",
        }
      ]
    }
